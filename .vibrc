form() { printf '%s' "$(tail -"$1" | head -1)" | { read -r url data; html "$url" --form-data "$data" $2; } | vib; }

html() {

curl -s -b /tmp/c -c /tmp/c --compressed --proto-default https --proto-redir -all,https --proto =http,https -L -A 'Mozilla/5.0 (Windows NT 10.0; rv:78.0) Gecko/20100101 Firefox/78.0' -w '\n%{url_effective}' "$@" 2>&1;

}

get() { html "$(tail -"$1" | head -1)" | vib; }

google() { html "https://www.google.com/search?q=$(urlencode $*)" | vib; }

url() { html "$1" | vib; }

urlencode() { python3 -c "from urllib.parse import quote_plus, sys; print(quote_plus(sys.argv[1]), end='')" "$*"; }

vib() { </dev/stdin /path/to/vib | sed 's/[^-~]/ï¿½/g'; }
